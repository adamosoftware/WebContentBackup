Here I am taking another swing at Azure blob storage backup. This repo is really two unrelated projects. I had started with something ambitious, then dropped back to an approach more modest.

- [LocalBlobBackup](https://github.com/adamosoftware/WebContentBackup/tree/master/LocalBlobBackup) is a rather simple WinForm app for downloading blobs from a storage account to a local folder. Its real work is in the [BlobBackup](https://github.com/adamosoftware/WebContentBackup/blob/master/LocalBlobBackup/Services/BlobBackup.cs) class. The UI is [frmMain](https://github.com/adamosoftware/WebContentBackup/blob/master/LocalBlobBackup/frmMain.cs). This app requires a storage account name and key, which are saved in an encrypted settings file via the [AppSettings](https://github.com/adamosoftware/WebContentBackup/blob/master/LocalBlobBackup/Models/AppSettings.cs) class. I like the simplicity of this approach, but I don't like having to know the account credentials because this gives the backup app more power than it really needs. Ideally, it should use a SAS token.

- The three other projects [WebContentBackup.Models](https://github.com/adamosoftware/WebContentBackup/tree/master/WebContentBackup.Models), [Mvc](https://github.com/adamosoftware/WebContentBackup/tree/master/WebContentBackup.Mvc), and [WinForm](https://github.com/adamosoftware/WebContentBackup/tree/master/WebContentBackup.WinForm) formed a more ambitious approach that involved an MVC5 class library. It would add an API endpoint to any MVC5 app that would serve a json list of URIs that a site wants backed up. It would include blobs, but really any URI-based content. I had sort of started on this a few weeks ago in my [BlobBackup2](https://github.com/adamosoftware/BlobBackup2) project. I got stuck then, and I ran out of steam again today when I realized this was going to be tough. That's why I dropped back to something simpler in the form of [LocalBlobBackup](https://github.com/adamosoftware/WebContentBackup/tree/master/LocalBlobBackup). The thing I prefer about this approach is that it doesn't require backup clients to know the underlying storage account credentials. It does, however, require some other kind of authentication instead.
